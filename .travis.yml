language: node_js
node_js:
  - "6"
addons:
  sauce_connect: true
  jwt:
    secure: "A53gjo3A5ifNFBl75z0srmi5/q2tCyzPLli+y3ThMafBAJvQVPTrEW+tN55TwjodATLb08+RIUymzGFD0/FjseikMRSwXG7nr36NiiE1PiHfRcKVmFyo+IXOAK6/QtIqzukaqIxNgdmZeWnR6w42Vg6K6ik/703fxMgVtbad940="
after_script:
  - codeclimate-test-reporter < dist/coverage/lcov.info
before_deploy:
  - node tools/setupDeploy
deploy:
  provider: script
  script: npm publish dist/src 
  skip_cleanup: true
  on:
    tags: true